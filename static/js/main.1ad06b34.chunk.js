(this.webpackJsonppokemon=this.webpackJsonppokemon||[]).push([[0],{26:function(e,t,n){e.exports=n(49)},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(24),s=n.n(c),i=n(4),u=n(9),o=n(6),l=n(5),m=n(18),p=n(1),f=(n(31),function(){return r.a.createElement("div",{className:"error-indicator"},r.a.createElement("span",null,"Oops!"),r.a.createElement("span",null,"something has gone wrong"),r.a.createElement("span",null,"we will fix it soon"))}),d=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(u.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(f,null):this.props.children}}]),n}(a.Component),h=n(3),v=n.n(h),k=n(11),E=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r)))._apiBase="https://pokeapi.co/api/v2/pokemon/?limit=12",e.getResource=function(){var e=Object(k.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getPokemonsChunkList=function(){var t=Object(k.a)(v.a.mark((function t(n){var a,r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n||e._apiBase,t.next=3,e.getResource(a);case 3:return r=t.sent,t.next=6,Promise.all(r.results.map(function(){var t=Object(k.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPokemon(e._extractId(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 6:return c=t.sent,t.abrupt("return",{next:r.next,list:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getNextPokemonsChunkList=function(){var t=Object(k.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource(n);case 2:return a=t.sent,t.next=5,Promise.all(a.results.map(function(){var t=Object(k.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPokemon(e._extractId(n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPokemon=function(){var t=Object(k.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource("https://pokeapi.co/api/v2/pokemon/".concat(n,"/"));case 2:return a=t.sent,t.abrupt("return",e._transformPokemon(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPokemonDetails=function(){var t=Object(k.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getResource("https://pokeapi.co/api/v2/pokemon/".concat(n,"/"));case 2:return a=t.sent,t.abrupt("return",e._transformPokemonDetails(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e._transformTypes=function(e){return e.map((function(e){return{id:e.slot,name:e.type.name}}))},e._transformPokemon=function(t){return{id:t.id,name:t.name,types:e._transformTypes(t.types),image:t.sprites.front_default}},e._transformPokemonDetails=function(e){return{attack:e.stats[1].base_stat,defence:e.stats[2].base_stat,hp:e.stats[0].base_stat,"SP attack":e.stats[3].base_stat,"SP defense":e.stats[4].base_stat,speed:e.stats[5].base_stat,weight:e.weight,"total moves":e.moves.length}},e._extractId=function(e){return e.url.match(/\/([0-9]+)*\/$/)[1]},e}return n}(a.Component),g=r.a.createContext(),b=g.Provider,y=g.Consumer,O=n(15),x=(n(33),function(){return r.a.createElement("div",{className:"loadingio-spinner-spinner-sqyo0fm8m1b"},r.a.createElement("div",{className:"ldio-u9gmhq330vq"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),j=function(e){return function(t){Object(o.a)(a,t);var n=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(e=n.call.apply(n,[this].concat(r))).state={data:null},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.getData,a=t.url,r=t.chunksOnPage;n===e.getData&&r===e.chunksOnPage||a!==e.url&&r!==e.chunksOnPage&&this.update()}},{key:"componentDidMount",value:function(){this.update()}},{key:"update",value:function(){var e=this,t=this.props;(0,t.getData)(t.url).then((function(t){e.setState({data:t})}))}},{key:"render",value:function(){var t=this.state.data;return t?r.a.createElement(e,Object.assign({},this.props,{data:t})):r.a.createElement(x,null)}}]),a}(a.Component)},N=function(e){return function(t){Object(o.a)(a,t);var n=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return(e=n.call.apply(n,[this].concat(r))).state={item:null},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.itemId,a=t.getData;n===e.itemId&&a===e.getData||this.updateItem()}},{key:"updateItem",value:function(){var e=this,t=this.props,n=t.itemId,a=t.getData;n&&a(n).then((function(t){e.setState({item:t})}))}},{key:"render",value:function(){var t=this.state.item;return t?r.a.createElement(e,Object.assign({},this.props,{item:t})):""}}]),a}(a.Component)},w=function(e){return function(t){return function(n){return r.a.createElement(y,null,(function(a){var c=e(a);return r.a.createElement(t,Object.assign({},n,c))}))}}},P=n(21),_=(n(34),function(e){var t=e.typesList,n=e.list;return r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,"Type"),r.a.createElement("td",null,e))})),Object.entries(n).map((function(e){var t=Object(P.a)(e,2),n=(t[0],Object(P.a)(t[1],2)),a=n[0],c=n[1];return r.a.createElement("tr",{key:a},r.a.createElement("td",null,a),r.a.createElement("td",null,c))}))))}),C=w((function(e){return{getData:e.getPokemonDetails}}))(N((function(e){var t=e.types,n=e.item,a=Object.values(t).map((function(e){return e.name})),c=Object(O.a)(Object.entries(n));return r.a.createElement(_,{typesList:a,list:c})}))),I=(n(35),function(e){var t=e.id,n=e.image,a=e.name,c=e.children;return r.a.createElement("div",{className:"item-details"},r.a.createElement("div",{className:"item-details__image-wrapper"},r.a.createElement("img",{src:n,alt:a,className:"item-details__img"})),r.a.createElement("h2",{className:"item-details__name"},a," #",function(e){if(e.toString().length>=3)return e;var t=[0,0,0],n=e.toString().split("");return[].concat(Object(O.a)(t.slice(0,t.length-n.length)),Object(O.a)(n))}(t)),c)}),S=w((function(e){return{getData:e.getPokemon}}))(N((function(e){var t=e.item;return r.a.createElement(I,t,r.a.createElement(C,{types:t.types,itemId:t.id}))}))),D=(n(36),function(e){var t=e.name;return r.a.createElement("div",{className:"type-item","data-type":t},r.a.createElement("p",{className:"type-item__title"},t))}),L=(n(37),function(e){var t=e.types.map((function(e){return r.a.createElement("li",{className:"types-list__item",key:e.id},r.a.createElement(D,{name:e.name}))}));return r.a.createElement("ul",{className:"types-list"},t)}),A=(n(38),function(e){var t=e.name,n=e.types,a=e.image;return r.a.createElement("div",{className:"pokemon-item"},r.a.createElement("div",{className:"pokemon-item__img-wrapper"},r.a.createElement("img",{src:a,alt:t,className:"pokemon-item__img"})),r.a.createElement("p",{className:"pokemon-item__title"},t),r.a.createElement(L,{types:n}))}),U=(n(39),function(e){var t=e.list,n=void 0===t?[]:t,a=e.onItemSelected,c=n.map((function(e){return r.a.createElement("li",{onClick:function(){return a(e.id)},className:"pokemon-list__item",key:e.id},r.a.createElement(A,e))}));return r.a.createElement("ul",{className:"pokemon-list"},c)}),M=(n(40),function(e){var t=e.onAddNextChunkOnPage;return r.a.createElement("button",{className:"btn",type:"button",onClick:function(){return t()}},"Load More")}),R=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={list:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.onNextLinkUpdate;this.setState({list:t.list}),n(t.next)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.data,r=n.url,c=n.onNextLinkUpdate,s=n.chunksOnPage;c===e.onNextLinkUpdate&&r===e.url&&a===e.data&&s===e.chunksOnPage&&this.state.list===t.list||(this.setState({list:a.list,nextChunkList:r}),c(a.next))}},{key:"render",value:function(){var e=this.props,t=e.onItemSelected,n=e.onAddNextChunkOnPage;return r.a.createElement(a.Fragment,null,r.a.createElement(U,{list:this.state.list,onItemSelected:t}),r.a.createElement(M,{onAddNextChunkOnPage:n}))}}]),n}(a.Component),q=w((function(e){return{getData:e.getPokemonsChunkList}}))(j(R)),B=(n(41),function(e){var t=e.left,n=e.right;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row--lg"},t),r.a.createElement("div",{className:"row--sm"},n))}),T=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selectedItem:null,nextListChunkLink:null,chunksOnPage:1},e.onItemSelected=function(t){e.setState({selectedItem:t})},e.onNextLinkUpdate=function(t){e.setState({nextListChunkLink:t})},e.onAddNextChunkOnPage=function(){e.setState((function(e){return{chunksOnPage:e.chunksOnPage+1,selectedItem:null}}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.nextListChunkLink,n=e.selectedItem,a=e.chunksOnPage,c=1!==a?t:"",s=r.a.createElement(q,{onItemSelected:this.onItemSelected,onNextLinkUpdate:this.onNextLinkUpdate,url:c,onAddNextChunkOnPage:this.onAddNextChunkOnPage,chunksOnPage:a}),i=n?r.a.createElement(S,{itemId:n}):"";return r.a.createElement(B,{left:s,right:i})}}]),n}(a.Component),J=Object(p.f)(T),F=(n(47),function(){return r.a.createElement("div",{className:"header"},"Pokedex")}),$=(n(48),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1,pokeapiService:new E},e}return Object(u.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return r.a.createElement(d,null,r.a.createElement(b,{value:this.state.pokeapiService},r.a.createElement(m.a,{basename:"/pokedex"},r.a.createElement("div",{className:"app"},r.a.createElement(F,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",component:J,exact:!0}),r.a.createElement(p.a,{render:function(){return r.a.createElement("h2",null,"Page not found")}}))))))}}]),n}(a.Component));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.1ad06b34.chunk.js.map